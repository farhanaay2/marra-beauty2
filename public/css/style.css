/* =========================================================
   MARRA BEAUTY — style.css (Full, fixed mobile submenu)
   ========================================================= */

/* ==== Design tokens / base ==== */
:root{
  --ink:#1B1B1B;
  --muted:#6F6F6F;
  --rose:#B56A7A;
  --rose-dark:#7A2F4F;
  --bg:#FFFCF9;
  --line:#eee;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  color:var(--ink);
  background:var(--bg);
}
img{max-width:100%;display:block}
a{text-decoration:none;color:inherit;-webkit-tap-highlight-color:transparent}
.wrap{max-width:1200px;margin:0 auto;padding:0 20px}
.title{font-family:"Playfair Display",serif;font-weight:700;text-align:center;margin:8px 0}
.subtitle{text-align:center;color:var(--muted);margin:0 0 24px}

/* ==== Header & Menu (center) ==== */
.header{background:#fff;box-shadow:0 1px 0 var(--line);position:sticky;top:0;z-index:30}
.header__inner{padding:18px 0;display:flex;flex-direction:column;align-items:center;gap:8px;position:relative}
.logo{font-family:"Playfair Display",serif;font-size:36px;font-weight:700;letter-spacing:.08em;color:#1b1b1b}

.menu{display:flex;gap:28px;margin-top:6px}
.menu--center{justify-content:center;width:100%}

/* Item menu + underline */
.menu a{
  padding:12px 2px;
  text-transform:uppercase;
  letter-spacing:.04em;
  font-weight:500;
  color:#333;
  position:relative;
}
.menu a.active{color:var(--rose-dark)}
.menu a::after{
  content:"";
  position:absolute;left:0;bottom:0;height:2px;width:0;
  background:var(--rose-dark);
  transition:width .25s ease;
}
.menu a:hover::after,.menu a.active::after{width:100%}

/* Garis pemisah antar item (desktop) */
.menu a + a::before{
  content:"";
  position:absolute;left:-18px;top:50%;transform:translateY(-50%);
  width:1px;height:24px;background:rgba(0,0,0,.08);
}

/* Tombol burger (muncul di mobile) */
.menu-toggle{
  display:none;
  position:absolute;right:20px;top:16px;
  border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 12px;
}

/* ==== Dropdown (desktop hover) ==== */
.menu__item{position:relative}
.has-sub{position:relative}

/* Panel dropdown (DESKTOP) */
.dropdown{
  position:absolute;left:50%;top:100%;transform:translate(-50%,8px);
  width:320px;max-height:60vh;overflow:auto;
  background:rgba(255,255,255,.92);backdrop-filter:blur(6px);
  border:1px solid var(--line);border-radius:12px;box-shadow:0 14px 48px rgba(0,0,0,.08);
  padding:10px;opacity:0;visibility:hidden;
  transition:opacity .18s ease,transform .18s ease,visibility .18s;
  z-index:100;
}
.has-sub:hover > .dropdown{opacity:1;visibility:visible;transform:translate(-50%,0)}

/* Isi dropdown */
.dropdown__list{list-style:none;margin:0;padding:4px}
.dropdown__list li a{
  display:block;padding:6px 10px;border-radius:6px;color:#222;
  font-size:13px;letter-spacing:.2px;
}
.dropdown__list li a:hover{background:#f7f2f3;color:var(--rose-dark)}

/* Judul kategori di dropdown */
.dropdown__list .group{
  font-weight:700;font-size:13px;padding:8px 10px 4px;
  text-transform:uppercase;color:var(--rose-dark);opacity:.9;
  cursor:default;pointer-events:none;margin-top:8px;border-top:1px solid var(--line);
}
.dropdown__list .group:first-child{border-top:0;margin-top:0;padding-top:2px}

/* ==== Section helpers (opsional) ==== */
.hero-slider{position:relative;overflow:hidden;background:#000}
.slides{position:relative}
.slide{position:relative;display:none}
.slide.is-active{display:block}
.slide img{width:100%;height:70vh;object-fit:cover;opacity:.92}
.slide__overlay{position:absolute;inset:0;display:flex;flex-direction:column;gap:12px;justify-content:center;padding:0 7%}
.badge-round{
  position:absolute;right:8%;top:12%;
  background:rgba(181,106,122,.85);color:#fff;width:160px;height:160px;
  border-radius:999px;display:flex;align-items:center;justify-content:center;
  text-align:center;font-family:"Playfair Display",serif;font-size:20px;line-height:1.2;
}
.pill{display:inline-block;background:rgba(255,255,255,.5);backdrop-filter:blur(2px);color:#333;padding:12px 18px;border-radius:18px;font-weight:600;font-size:22px;width:max-content}
.pill--dark{background:rgba(0,0,0,.45);color:#fff;display:flex;align-items:center;gap:10px}
.pill--dark strong{font-size:24px;letter-spacing:.03em}
.nav{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.7);border:none;border-radius:999px;width:44px;height:44px;font-size:26px;cursor:pointer}
.nav.prev{left:12px}.nav.next{right:12px}

.benefits{display:grid;grid-template-columns:1fr 1.1fr 1fr;gap:24px;align-items:center;margin:22px auto}
.benefits__media{border-radius:14px;overflow:hidden;border:1px solid var(--line)}
.benefits__list{list-style:none;margin:0;padding:0;display:grid;gap:16px}
.benefits__list li{display:grid;grid-template-columns:52px 1fr;gap:12px;align-items:start;background:#fff;border:1px solid var(--line);border-radius:14px;padding:12px}
.benefits__list .ic{width:52px;height:52px;display:flex;align-items:center;justify-content:center;border-radius:999px;background:#f7eef1}

.products{background:#f7f7f7;padding:24px 0 40px;margin-top:10px}
.scroller{display:grid;grid-auto-flow:column;grid-auto-columns:240px;gap:12px;overflow-x:auto;scroll-snap-type:x mandatory;padding:6px}
.card{scroll-snap-align:start;border-radius:14px;overflow:hidden;border:1px solid var(--line);background:#fff}
.card img{width:100%;height:160px;object-fit:cover}
.card__caption{background:#1b1b1b;color:#fff;padding:10px 12px;text-align:center}

/* ==== Waxing/Lips generic section ==== */
.price-list{max-width:900px;margin:0 auto;display:grid;gap:34px}
.pl-title{font-size:20px;font-weight:600;color:var(--rose-dark)}
.pl-line{border-bottom:2px solid #dcb6bf;margin-top:6px}
.note{font-size:13px;color:#a58b92;font-weight:400}

/* =========================================================
   Mobile Drawer ala Anata
   ========================================================= */

/* Backdrop */
.menu-backdrop{
  position:fixed;inset:0;
  background:rgba(0,0,0,.28);
  backdrop-filter:blur(2px);
  z-index:998;
  display:none;
}
.menu-backdrop.show{display:block}

/* Saat drawer terbuka: lock scroll */
body.menu-open{overflow:hidden}

/* Header kecil (judul & tombol X) — tampil di mobile */
.drawer-head{display:none}
.drawer-title{font-weight:600;color:var(--rose-dark);letter-spacing:.2px}
.drawer-close{
  border:0;background:#fff;width:36px;height:36px;border-radius:10px;
  box-shadow:0 1px 0 var(--line);font-size:22px;line-height:1;cursor:pointer;
}

/* ===== Desktop guard (hindari blur/backdrop nyangkut) ===== */
@media (min-width:981px){
  .menu-backdrop{display:none !important;}
  #mainMenu{position:static !important;transform:none !important;box-shadow:none !important;}
  .drawer-head{display:none !important;}
  body.menu-open{overflow:auto !important;}
}

/* ==== Responsive (≤980px) ==== */
@media (max-width:980px){
  /* Sembunyikan menu horisontal, tampilkan burger */
  .menu{display:none}
  .menu-toggle{display:inline-block}

  /* Drawer kanan */
  #mainMenu{
    position:fixed;top:0;right:0;bottom:0;left:auto;
    width:86vw;max-width:420px;height:100dvh;
    background:#fff;
    padding:14px 20px 24px;
    box-shadow:-24px 0 60px rgba(0,0,0,.22);
    transform:translateX(100%);
    transition:transform .28s ease;
    z-index:999;
    overflow:auto;
    display:block; /* tetap block, digeser keluar layar */
  }
  #mainMenu.show{transform:translateX(0)}

  /* Drawer head */
  .drawer-head{
    display:flex;align-items:center;justify-content:space-between;
    padding:16px 6px 14px;margin:0 0 10px;border-bottom:1px solid var(--line);
  }

  /* Hilangkan pemisah vertikal versi desktop */
  .menu a + a::before{display:none}

  /* ========= FIX: Submenu mobile jadi ACCORDION, pos static & center ========= */
  .menu .has-sub .dropdown{
    position: static !important;   /* kunci: jangan absolute */
    inset: auto !important;
    left: auto !important;
    right: auto !important;
    top: auto !important;
    transform: none !important;    /* matikan translate(-50%) desktop */
    width: 100% !important;
    max-height: none;
    background: transparent;
    border: 0;
    box-shadow: none;
    padding: 0;
    margin: 6px 0 10px;
    display: none;                 /* default: hidden */
  }
  .menu .has-sub.open .dropdown{ display:block; }

  .menu .dropdown__list{ padding:0; text-align:center; }
  .menu .dropdown__list li a{ display:block; padding:12px 0; }

  /* Ikon +/– di kanan judul submenu */
  .menu .has-sub > a.submenu-toggle,
  .menu .has-sub > button.submenu-toggle{
    display:flex;align-items:center;gap:8px;padding:12px 0;
    border-bottom:1px solid #f0e7ea;width:100%;background:none;border-left:0;border-right:0;border-top:0;
    text-align:left;font:inherit;color:inherit;cursor:pointer;
  }
  .menu .has-sub > .submenu-toggle::after{
    content:'+';margin-left:auto;font-weight:700;opacity:.55;
  }
  .menu .has-sub.open > .submenu-toggle::after{content:'–';opacity:.8}

  /* Spasi item non-submenu di drawer */
  .menu .menu__item > a:not(.submenu-toggle){
    display:block;padding:12px 0;border-bottom:1px solid #f0e7ea;
  }

  /* Section tweaks */
  .slide img{height:58vh}
  .benefits{grid-template-columns:1fr}
}
/* ===== PATCH: Drawer mobile fix (plus kanan & dropdown nempel) ===== */
@media (max-width:980px){

  /* Selalu render nav drawer, tapi di-translate keluar saat tertutup (sudah ada) */
  #mainMenu{ display:block !important; }

  /* List di dalam drawer menjadi kolom */
  #mainMenu ul.menu{
    display:flex !important;
    flex-direction:column;
    gap:0;
    list-style:none;
    margin:0;
    padding:0 16px;
  }

  /* Satu baris item: label kiri + tombol plus kanan */
  #mainMenu li.menu__item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:14px 0;
    position:relative;
  }
  #mainMenu li.menu__item::after{
    content:"";
    position:absolute; left:0; right:0; bottom:0; height:1px; background:#eee;
  }

  /* Link biasa */
  #mainMenu li.menu__item > a{
    padding:0 !important; border:0 !important; text-transform:none; font-weight:700; flex:1;
    text-decoration:none !important; /* cegah coret */
  }

  /* Label katalog untuk item yg punya submenu */
  #mainMenu li.has-sub > .submenu-label{ flex:1; font-weight:700; letter-spacing:.02em; }
  #mainMenu li.has-sub.open > .submenu-label{ color:var(--rose-dark); }

  /* Tombol PLUS di kanan */
  #mainMenu li.has-sub > .submenu-plus{
    display:inline-flex; align-items:center; justify-content:center;
    width:30px; height:30px; flex:0 0 30px; margin-left:12px;
    border:1px solid #e6e6e6; border-radius:6px; background:#fff;
    font:700 18px/1 Poppins,system-ui; color:#8d8d8d; cursor:pointer;
  }
  #mainMenu li.has-sub.open > .submenu-plus{ border-color:#dcc9c1; color:#6f4e43; }

  /* MATIKAN gaya dropdown desktop (paksa) */
  #mainMenu li.has-sub > .dropdown{
    position:static !important;
    inset:auto !important;
    transform:none !important;
    width:100% !important;
    max-height:none !important;
    background:transparent !important;
    border:0 !important;
    box-shadow:none !important;
    border-radius:0 !important;
    padding:0 !important;
    margin:8px 0 12px !important;
    display:none;               /* default tertutup */
    opacity:1 !important;       /* hilangkan anim opasitas desktop */
    visibility:visible !important;
  }
  #mainMenu li.has-sub.open > .dropdown{ display:block; }

  /* Isi dropdown */
  #mainMenu .dropdown__list{ padding:0; margin:0; text-align:left; }
  #mainMenu .dropdown__list li a{ display:block; padding:10px 0 10px 6px; font-weight:500; color:#333; }
  #mainMenu .dropdown__list li a:hover{ color:var(--rose-dark); }

  /* Nonaktifin pseudo-icon lama pada <a> jika ada */
  .menu .has-sub > a.submenu-toggle::after,
  .menu .has-sub > a::after{ content:none !important; }

  /* Nonaktifin behavior hover buka dropdown di mobile */
  .has-sub:hover > .dropdown{ opacity:1 !important; visibility:visible !important; }
}

/* ==== Reduce Motion ==== */
@media (prefers-reduced-motion:reduce){
  .menu a::after,.dropdown,#mainMenu{transition:none}
  /* ======== MARRA — Drawer fix: plus di kanan ala Anata ======== */
@media (max-width:980px){
  /* Pastikan nav drawer kelihatan */
  #mainMenu{ display:block !important; }

  /* List di dalam drawer */
  #mainMenu ul.menu{
    display:flex !important;
    flex-direction:column;
    gap:0;
    list-style:none;
    margin:0;
    padding:0 16px;
  }

  /* Satu baris item: label kiri + tombol plus kanan */
  #mainMenu li.menu__item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:14px 0;
    position:relative;
  }
  /* Garis pemisah tipis di level <li> (bukan di <a>) */
  #mainMenu li.menu__item::after{
    content:"";
    position:absolute;
    left:0; right:0; bottom:0;
    height:1px; background:#eee;
  }

  /* Matikan padding/border bawaan link agar tidak dorong tombol plus */
  #mainMenu li.menu__item > a{
    padding:0 !important;
    border:0 !important;
    text-transform:none;
    font-weight:700;
    flex:1;         /* label memenuhi kiri */
  }

  /* Label katalog untuk item yang punya submenu */
  #mainMenu li.has-sub > .submenu-label{
    flex:1;
    font-weight:700;
    letter-spacing:.02em;
  }
  #mainMenu li.has-sub.open > .submenu-label{ color:var(--rose-dark); }

  /* Tombol PLUS di kanan */
  #mainMenu li.has-sub > .submenu-plus{
    display:inline-flex;
    align-items:center; justify-content:center;
    width:30px; height:30px; flex:0 0 30px; margin-left:12px;
    border:1px solid #e6e6e6; border-radius:6px; background:#fff;
    font:700 18px/1 Poppins,system-ui;
    color:#8d8d8d; cursor:pointer;
  }
  #mainMenu li.has-sub.open > .submenu-plus{
    border-color:#dcc9c1; color:#6f4e43;
  }

  /* Panel dropdown nempel di bawah item */
  #mainMenu li.has-sub > .dropdown{
    position:static !important;
    transform:none !important;
    width:100% !important;
    max-height:none;
    background:transparent; border:0; box-shadow:none;
    padding:0; margin:8px 0 12px;
    display:none;
  }
  #mainMenu li.has-sub.open > .dropdown{ display:block; }

  /* Isi dropdown */
  #mainMenu .dropdown__list{ padding:0; margin:0; text-align:left; }
  #mainMenu .dropdown__list li a{
    display:block; padding:10px 0 10px 6px; font-weight:500; color:#333;
  }
  #mainMenu .dropdown__list li a:hover{ color:var(--rose-dark); }

  /* Matikan pseudo-icon lama di anchor kalau ada */
  .menu .has-sub > a.submenu-toggle::after,
  .menu .has-sub > a::after{ content:none !important; }
}

}
